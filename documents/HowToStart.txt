How To Start with LOD2 Stack 
============================
Bert Van Nuffelen <bert.van.nuffelen@tenforce.be>
v1.0, aug 2011: Initial version
:Author Initials: BVN
:toc:
:icons:
:numbered:
:website: http://stack.lod2.eu/

The LOD2 component stack is a collection of tools that support Linked Data publication.
The LOD2 stack is the result of the EU funded project LOD2. 

This guide describes several paths to access the LOD2 stack. 
We have installed an online version of the stack. 
For those who want to have a deeper insight in the components, a preinstalled VM image is available.
Finally one can also setup a new machine and install the stack on it.

The LOD2 stack is standarized upon Ubuntu 10.01 as Operating System and firefox as browser. 

The online demo
---------------
For an quick start we have made the lod2 stack and the lod2 demonstrator available at http://demo.lod2.eu/lod2demo.
The demonstrator shows via reduced workflows/editing pages how the different challenges in publishing Linked Open Data can be tackled 
by the components in the LOD2 stack. The demo focusses on the core functionality of the components. Most of them have much larger capabilities
than exposed by the lod2 demonstrator. 

The preinstalled virtual machine
--------------------------------
We have created a VMware virtual machine on which we have installed the LOD2 stack.
This virtual machine is available at the VMware marketplace: 
Search for XXX to find the image.

http://www.vmware.com/products/player/

Regulary new versions of the stack will be uploaded.

Installation of a local LOD2 stack
----------------------------------
In general, deploying the LOD2 software stack or parts of it is very easy and comfortable based on the Debian package management system.  There are only two steps which need to be executed in order to install LOD2 stack software:
1. Add LOD2 stack package repository to the systems repository list and update the repository index.
2. Install wanted software packages by using a graphical or text-based package management application.

The next guidelines describe the installation using command-line tools. The procedure uses apt-get, the most basic package management tool and the preferred command line front-end for non-interactive package management. 
UI frontends like synaptic can be used too. For the usage of these we refer to their manuals.

The first step is the installation of the LOD2 repository package. 

	# download the repository package 
	wget http://stack.lod2.eu/lod2repository_current_all.deb
	# install the repository package 
	sudo dpkg -i lod2repository_current_all.deb
	# update the repository database 
	sudo apt-get update

This registers the LOD2 stack repository for the local package manager. 

As the LOD2 stack component Sig.maEE depends on the Oracle-Sun Java suite and this java package is not always per default installed one has to update the repository with the following
	sudo add-apt-repository ‘deb http://archive.canonical.com/ lucid partner’ 
	sudo apt-get update
where lucid is the Ubuntu release. 
During the Oracle-Sun Java package installation acceptance confirmation of the license is requested.
For more information see https://help.ubuntu.com/community/Java.

Next one can install individual lod2 packages or the lod2demo package. Installing the lod2demo package will install the whole LOD2 stack as the package depends on all LOD2 stack components.

	sudo apt-get install lod2demo

If MySQL and Virtuoso are not installed yet, the root passwords for Virtuoso and MySQL will be requested. 

The lod2 demo can now be accessed via http://localhost:8080/lod2demo.
For the moment the lod2 demo requires some manual post configuration to make all components collaborate together.
In future releases we aim at reducing the post-configuration requirements.

When new versions of the lod2 stack components are available, the update manager will inform the system administrator automatically.

Configuration of the lod2 demonstrator
--------------------------------------

1. Post configuration of stack components

* We assume that the virtuoso root password is "dba"
* ontowiki access to virtuoso.
  
   cd /etc/ontowiki/
   # for the virtuoso connector change username to dba and password  to chosen root password
   sudo vim config.ini 

   # restart apache2
   sudo service apache2 restart
    
   # Adapt virtuoso configuration and add extra allowed directory
   cd /etc/virtuoso-opensource-6.1/
   # add to the allowed directories the directory /usr/share 
   sudo vim virtuoso.ini 
   # restart the virtuoso server
   sudo service virtuoso-opensource-6.1 restart

* Virtuoso iSPAQRL package must be activated manually via the conductor interface.
  If it is not activated then the menu option querying via isparql is not working properly.

2. Exposing the components to a wider public.

The default configuration assumes a local usage of the lod2 stack, not accessible for the outside world. 
If one wants to expose the lod2 demonstrator or one of the components
we advice to setup a proxy. For instance one can use the apache2 server as proxy.

To expose the lod2 demonstrator, its configuration graph has to be adapted to the location of the different components.
The lod2 demonstrator configuration file is the graph http://localhost/lod2democonfiguration, which is stored in Virtuoso.
It contains the hostname prefix of the tools. Per default the value is "http://localhost:8080".
In case to make the tools accessible via a public lod2 demo interface, this value has to be changed to the machines' url.

More information
----------------
For more information about the lod2 stack and the lod2 demonstrator we refer to

http://stack.lod2.eu : the stack repository
http://code.google.com/p/lod2-stack/source/browse/#svn%2Ftrunk%2Fdocuments: installation and configuration guides

